SRC_DIR=src
SRC_LIB_DIR=D:\Documents\Programming\WPFandXNA\MathParser\MathParserDll
DESTDIR=www
SRCS=$(wildcard $(SRC_DIR)/*.cpp)
SRCS_LIB= $(wildcard $(SRC_LIB_DIR)/*.cpp)
IDIR=D:\Documents\Programming\WPFandXNA\MathParser\MathParserDll
CFLAGS=-I "$(IDIR)"
CC=emcc
CXX=emcc
BUILDDIR=build
OBS = $(notdir $(SRCS))
OBS := $(OBS:.cpp=.o)
OBS := $(patsubst %.o, $(BUILDDIR)/%.o, $(OBS))
OBS_LIB = $(notdir $(SRCS_LIB))
OBS_LIB := $(OBS_LIB:.cpp=.o)
OBS_LIB := $(patsubst %.o, $(BUILDDIR)/lib/%.o, $(OBS_LIB))
DEPS = $(OBS:.o=.d)

test: $(OBS) $(OBS_LIB)
# 	echo $(SRCS)
# 	echo $(SRC_LIB_DIR)
	echo $(OBS)

$(BUILDDIR)/%.o : $(SRC_DIR)/%.cpp
	$(CXX) -c $< -o $@ $(CFLAGS) -MMD -MP

$(BUILDDIR)/lib/%.o : $(SRC_LIB_DIR)/%.cpp
	$(CXX) -c $< -o $@ $(CFLAGS) -MMD -MP
